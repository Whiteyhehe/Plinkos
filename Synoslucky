-- Load external library for GUI
local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Orion/main/source'))()

-- Create a customizable GUI window
local Window = OrionLib:MakeWindow({
    Name = "Plinko Script (made by synoslucky)",
    HidePremium = false,
    IntroEnabled = false,
    IntroText = "Welcome to Plinko Script!",
    SaveConfig = true,
    ConfigFolder = "PlinkoScript",
    Drag = true  -- Enabling draggable window
})

-- Add Tag tab
local TagTab = Window:MakeTab({
    Name = "Tags",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Add dropdown for tag types
TagTab:AddDropdown({
    Name = "Select Tag",
    Options = {"VIP", "Owner", "Tester"},
    Default = "VIP",
    Callback = function(Value)
        local tagValue
        if Value == "VIP" then
            tagValue = -1
        elseif Value == "Owner" then
            tagValue = -2
        elseif Value == "Tester" then
            tagValue = -3
        end
        if tagValue then
            game:GetService("ReplicatedStorage").TagEquip:FireServer(tagValue)
        end
    end
})

-- Add Currency Giver tab
local CurrencyGiverTab = Window:MakeTab({
    Name = "Currency Giver",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Add dropdown for cash amounts
CurrencyGiverTab:AddDropdown({
    Name = "Select Cash Amount",
    Options = {"1t", "1q", "1qn"},
    Default = "1t",
    Callback = function(Value)
        local amount
        if Value == "1t" then
            amount = 1000000000000  -- 1 trillion
        elseif Value == "1q" then
            amount = 1000000000000000  -- 1 quadrillion
        elseif Value == "1qn" then
            amount = 1000000000000000000  -- 1 quintillion
        end
        if amount then
            game:GetService("ReplicatedStorage").CashTransfer1:FireServer(amount, "Cash")
        end
    end
})

-- Add dropdown for token amounts
CurrencyGiverTab:AddDropdown({
    Name = "Select Token Amount",
    Options = {"1t", "1q", "1qn"},
    Default = "1t",
    Callback = function(Value)
        local amount
        if Value == "1t" then
            amount = 1000000000000  -- 1 trillion
        elseif Value == "1q" then
            amount = 1000000000000000  -- 1 quadrillion
        elseif Value == "1qn" then
            amount = 1000000000000000000  -- 1 quintillion
        end
        if amount then
            game:GetService("ReplicatedStorage").CashOut:FireServer(amount)
        end
    end
})

-- Add textbox for custom cash amount
CurrencyGiverTab:AddTextbox({
    Name = "Custom Cash Amount",
    Default = "Enter amount here",
    TextDisappear = true,
    Callback = function(Value)
        local amount = tonumber(Value)
        if amount then
            game:GetService("ReplicatedStorage").CashTransfer1:FireServer(amount, "Cash")
        else
            print("Invalid cash amount")
        end
    end
})

-- Add textbox for custom token amount
CurrencyGiverTab:AddTextbox({
    Name = "Custom Token Amount",
    Default = "Enter amount here",
    TextDisappear = true,
    Callback = function(Value)
        local amount = tonumber(Value)
        if amount then
            game:GetService("ReplicatedStorage").CashOut:FireServer(amount)
        else
            print("Invalid token amount")
        end
    end
})

-- Add Troll Commands tab
local TrollTab = Window:MakeTab({
    Name = "Troll Commands",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Variables to hold command activation states
_G.ActivateGiveCash = false
_G.ActivateGiveTokens = false
_G.ActivateGiveBest = false

-- Function to activate all commands
local function activateAllCommands()
    _G.ActivateGiveCash = true
    _G.ActivateGiveTokens = true
    _G.ActivateGiveBest = true
    print("All commands activated")
end

-- Add Activate Commands button
TrollTab:AddButton({
    Name = "Activate Commands",
    Callback = function()
        activateAllCommands()
    end
})

-- Add Commands dropdown
TrollTab:AddDropdown({
    Name = "Commands",
    Options = {";GiveCash", ";GiveTokens", ";GiveBest"},
    Default = ";GiveCash",
    Callback = function(Value)
        -- Handle selection if needed
    end
})

-- Function to detect chat messages and execute commands
local function onPlayerChatted(player, message)
    -- Check for specific commands and execute corresponding functions
    if _G.ActivateGiveBest and string.sub(message, 1, 9) == ";GiveBest" then
        local amount = tonumber(string.sub(message, 11)) -- Extract the amount from the message
        print("Detected GiveBest command with amount:", amount)
        if amount then
            local args = {amount, "BestWin"}
            game:GetService("ReplicatedStorage").CashTransfer1:FireServer(unpack(args))
        else
            print("Invalid amount for GiveBest command")
        end
    elseif _G.ActivateGiveTokens and string.sub(message, 1, 11) == ";GiveTokens" then
        local amount = tonumber(string.sub(message, 13)) -- Extract the amount from the message
        print("Detected GiveTokens command with amount:", amount)
        if amount then
            game:GetService("ReplicatedStorage").CashOut:FireServer(amount)
        else
            print("Invalid amount for GiveTokens command")
        end
    elseif _G.ActivateGiveCash and string.sub(message, 1, 9) == ";GiveCash" then
        local amount = tonumber(string.sub(message, 11)) -- Extract the amount from the message
        print("Detected GiveCash command with amount:", amount)
        if amount then
            game:GetService("ReplicatedStorage").CashTransfer1:FireServer(amount, "Cash")
        else
            print("Invalid amount for GiveCash command")
        end
    else
        print("No matching command found")
    end
end

-- Listen to the player's chat messages
local player = game.Players.LocalPlayer
player.Chatted:Connect(function(message)
    onPlayerChatted(player, message)
end)

-- Add Color Changer tab
local ColorChangerTab = Window:MakeTab({
    Name = "Color Changer",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Add color picker
local colorPicker = ColorChangerTab:AddColorpicker({
    Name = "Colorpicker",
    Default = Color3.fromRGB(255, 255, 255),  -- Default to white
    Callback = function(Value)
        print(Value)
    end
})

-- Set the color picker to white initially
colorPicker:Set(Color3.fromRGB(255, 255, 255))

-- Add Ball Spam tab
local BallSpamTab = Window:MakeTab({
    Name = "Ball Spam",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Variable to track ball spam status
local isSpamming = false

-- Add toggle for spam ball
BallSpamTab:AddButton({
    Name = "Toggle Spam Ball",
    Callback = function()
        isSpamming = not isSpamming
        if isSpamming then
            while isSpamming do
                game:GetService("ReplicatedStorage").TakeCashAddBall:FireServer()
                wait(0)  -- No delay
            end
        end
    end
})

-- Notification for script loaded
OrionLib:MakeNotification({
    Name = "Script Loaded",
    Content = "Plinko Script is ready to use!",
    Image = "rbxassetid://4483345998",
    Time = 5
})

-- Initialize GUI
OrionLib:Init()
